<section class="events">
    <h2 class="events__heading">Eventos populares</h2>

    <div class="events__cards">
        @for (item of events(); track $index) {
        <div class="event-card">
            <div class="event-card__img">
                <img [src]="item.image ? item.image : 'no-image-available.webp' "
                    alt="imagen del evento {{item.eventName}}">
                <div class="event-card__info">
                    <div class="event-card__head">
                        <h3 class="event-card__heading">{{item.eventName}}</h3>
                        <p class="event-card__date">{{item.date | date }}</p>
                    </div>

                    <div class="event-card__tags">
                        <p class="tag-city">{{item.city['name']}},{{item.city['country']}}</p>
                        <p class="tag-area">{{item.areaInteres.name}}</p>
                        <p class="tag-capacity">Lugares: {{item.maxCapacity}}</p>
                        <!-- @for (p of item.participants; track $index) {
                            <p>{{p._id}}</p>
                        } -->
                    </div>
                    <div class="card-btns">
                        @if ( item.reservated ) {
                            <button (click)="anularReservacion(item._id!,item)" class="event-card__btn--reservado">Reservado</button>
                        }@else{
                            <button (click)="reservation(item._id!,item)" class="event-card__btn">Reservar ahora</button>
                        }
                    </div>
                </div>
            </div>
        </div>


        }
    </div>
</section>